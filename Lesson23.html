<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fake Hotel Booking</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5; }
  .container { max-width: 900px; margin:20px auto; padding:16px; }
  .slide { display:none; padding:20px; background:#fff; border-radius:10px; }
  .slide.active { display:block; }
  h2 { margin-bottom:16px; }
  .options { display:grid; grid-template-columns: repeat(2, 1fr); gap:15px; margin-bottom:20px; }
  .option, .sub-option, .people-option { background:#fff; border:2px solid #ccc; border-radius:8px; padding:12px; cursor:pointer; text-align:center; transition:0.2s; }
  .option.selected, .sub-option.selected, .people-option.selected { border-color:green; background:#e6ffe6; }
  .image-placeholder { width:100%; height:80px; background:orange; margin-bottom:8px; border-radius:6px; }
  .nav-buttons { display:flex; justify-content:space-between; margin-top:20px; }
  button { padding:10px 20px; border:none; border-radius:6px; background:orange; color:white; cursor:pointer; }
  .back-btn { background:#ccc; color:black; }
  .summary-box { background:#f9f9f9; padding:15px; border-radius:8px; }
</style>
</head>
<body>
<div class="container">
  <!-- Slide 1: Number of People -->
  <div class="slide active" id="slide1">
    <h2>Select Number of People</h2>
    <div class="options" id="people-options">
      <div class="people-option" data-value="1">1 Person</div>
      <div class="people-option" data-value="2">2 People</div>
      <div class="people-option" data-value="3">3 People</div>
      <div class="people-option" data-value="4">4 People</div>
    </div>
    <div class="nav-buttons">
      <div></div>
      <button id="next1">Next</button>
    </div>
  </div>

  <!-- Slide 2-6: Main Options with Sub Options -->
  <div class="slide" id="slide2">
    <h2>Select Option for Room</h2>
    <div class="options" id="main-options"></div>
    <div class="nav-buttons">
      <button class="back-btn" id="back2">Back</button>
      <button id="next2">Next</button>
    </div>
  </div>

  <!-- Slide 7: Summary -->
  <div class="slide" id="summary-slide">
    <h2>Booking Summary</h2>
    <div class="summary-box" id="summary-box"></div>
    <div class="nav-buttons">
      <button class="back-btn" id="back-summary">Back to Start</button>
      <div></div>
    </div>
  </div>
</div>

<script>
const selections = { people: null, mainOption: null, subOption: null };
const mainOptionsData = [1,2,3,4]; // main option labels
const subOptionsData = [1,2,3,4,5]; // sub option labels

function showSlide(id) {
  document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// People selection
document.querySelectorAll('.people-option').forEach(el => {
  el.addEventListener('click', () => {
    selections.people = el.dataset.value;
    document.querySelectorAll('.people-option').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
  });
});

// Next from Slide 1
document.getElementById('next1').addEventListener('click', () => {
  if(!selections.people) { alert("Please select number of people"); return; }
  generateMainOptions();
  showSlide('slide2');
});

// Back to Slide 1
document.getElementById('back2').addEventListener('click', () => showSlide('slide1'));

// Next to Summary
document.getElementById('next2').addEventListener('click', () => {
  if(!selections.mainOption || !selections.subOption) { alert("Please select an option and sub-option"); return; }
  showSummary();
  showSlide('summary-slide');
});

// Back to Start
document.getElementById('back-summary').addEventListener('click', () => {
  selections.people = selections.mainOption = selections.subOption = null;
  document.querySelectorAll('.people-option, .option, .sub-option').forEach(b => b.classList.remove('selected'));
  showSlide('slide1');
});

// Generate main options + sub options
function generateMainOptions() {
  const container = document.getElementById('main-options');
  container.innerHTML = '';
  mainOptionsData.forEach((opt,index) => {
    const div = document.createElement('div');
    div.className = 'option';
    div.innerHTML = `<div class="image-placeholder"></div>Option ${opt}<div class="sub-options" style="display:none; margin-top:8px;"></div>`;
    container.appendChild(div);

    const subContainer = div.querySelector('.sub-options');
    subOptionsData.forEach(sub => {
      const subDiv = document.createElement('div');
      subDiv.className = 'sub-option';
      subDiv.innerHTML = `<div class="image-placeholder"></div>Sub Option ${sub} - $${sub*50}`;
      subDiv.addEventListener('click', (e) => {
        e.stopPropagation();
        selections.mainOption = opt;
        selections.subOption = sub;
        // highlight selected
        document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
        document.querySelectorAll('.sub-option').forEach(s => s.classList.remove('selected'));
        div.classList.add('selected');
        subDiv.classList.add('selected');
      });
      subContainer.appendChild(subDiv);
    });

    div.addEventListener('click', () => {
      const allSubs = document.querySelectorAll('.sub-options');
      allSubs.forEach(s => s.style.display='none');
      subContainer.style.display = 'block';
    });
  });

  // restore previous selection if any
  if(selections.mainOption && selections.subOption){
    const mainDiv = Array.from(container.children).find(c => c.innerText.includes(selections.mainOption));
    if(mainDiv){
      mainDiv.classList.add('selected');
      const subDiv = Array.from(mainDiv.querySelectorAll('.sub-option')).find(s=>s.innerText.includes(selections.subOption));
      if(subDiv) subDiv.classList.add('selected');
    }
  }
}

// Show summary
function showSummary() {
  const total = (selections.subOption*50) * selections.people;
  document.getElementById('summary-box').innerHTML = `
    <p><strong>People:</strong> ${selections.people}</p>
    <p><strong>Main Option:</strong> ${selections.mainOption}</p>
    <p><strong>Sub Option:</strong> ${selections.subOption} - $${selections.subOption*50}</p>
    <p><strong>Total Price:</strong> $${total}</p>
  `;
}
</script>
</body>
</html>
