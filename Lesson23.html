<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fake Hotel Booking</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    .slide { display: none; padding: 20px; }
    .active { display: block; }
    .options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px; }
    .option, .sub-option { background: white; padding: 15px; border-radius: 10px; cursor: pointer; border: 2px solid transparent; }
    .option:hover, .sub-option:hover { border-color: orange; }
    .image-placeholder { width: 100%; height: 120px; background: orange; border-radius: 8px; margin-bottom: 10px; }
    .nav-buttons { margin-top: 20px; display: flex; justify-content: space-between; }
    button { padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; }
    .back { background: #ccc; }
    .next { background: orange; color: white; }
    .sub-options-box { margin-top: 20px; padding: 15px; background: #fff; border-radius: 10px; display: none; }
    .summary { background: #fff; padding: 20px; border-radius: 10px; }
  .selected-main { border-color: green !important; }
    </style>
</head>
<body>  <div id="slide1" class="slide active">
    <h2>KGGG -Select Number of People</h2>
    <div class="options">
      <div class="option" onclick="selectOption('people', 1)">1 Person</div>
      <div class="option" onclick="selectOption('people', 2)">2 People</div>
      <div class="option" onclick="selectOption('people', 3)">3 People</div>
      <div class="option" onclick="selectOption('people', 4)">4 People</div>
    </div>
    <div class="nav-buttons">
      <div></div>
      <button class="next next-btn" onclick="nextSlide()">Next</button>
    </div>
  </div>  <!-- Final Summary Slide -->  <div id="final-slide" class="slide">
    <h2>Booking Summary</h2>
    <div class="summary" id="summary-box"></div>
    <button class="back" onclick="prevSlide()">Back</button>
  </div>  <script>
    let currentSlide = 1;
    const selections = { people: null };

    // prices for main categories & sub options (5 sub-options per main option)
    const priceData = {
      slide2: generatePrices(),
      slide3: generatePrices(),
      slide4: generatePrices(),
      slide5: generatePrices(),
      slide6: generatePrices(),
    };

    function generatePrices() {
      // same 5 prices for each sub-option set — you can change these later
      return [1,2,3,4].map(() => [100,150,200,250,300]);
    }

    function showSlide(n) {
      document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
      const target = document.getElementById('slide' + n) || document.getElementById('final-slide');
      target.classList.add('active');

      // Reapply previously selected main + sub options
      if (n >= 2 && n <= 6) {
        const savedPrice = selections[`slide${n}`];
        if (savedPrice) {
          const priceList = priceData[`slide${n}`];
          let parentIndex = null;
          let subIndex = null;

          // Find parent + sub that match saved price
          priceList.forEach((arr, p) => {
            const idx = arr.indexOf(savedPrice);
            if (idx !== -1) {
              parentIndex = p;
              subIndex = idx;
            }
          });

          if (parentIndex !== null) {
            // Highlight main option
            const mainOptions = target.querySelectorAll('.option');
            mainOptions.forEach(el => el.classList.remove('selected-main'));
            mainOptions[parentIndex].classList.add('selected-main');

            // Show correct sub box
            const subBox = target.querySelector(`#suboptions-${n}-${parentIndex+1}`);
            document.querySelectorAll(`#slide${n} .sub-options-box`).forEach(x => x.style.display = 'none');
            if (subBox) subBox.style.display = 'block';

            // Highlight sub option
            const subOptions = subBox.querySelectorAll('.sub-option');
            subOptions.forEach(el => el.style.borderColor = 'transparent');
            if (subOptions[subIndex]) subOptions[subIndex].style.borderColor = 'green';
          }
        }
      }
    }

      document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
      const el = document.getElementById('slide' + n);
      if (el) el.classList.add('active');
    }

    function nextSlide() {
      // if we're on slide 6, go to summary
      if (currentSlide === 6) { generateSummary(); currentSlide = 'final'; showSlide('final'); return; }
      currentSlide++;
      showSlide(currentSlide);
    }

    function prevSlide() {
      if (currentSlide === 'final') { currentSlide = 6; showSlide(6); return; }
      if (currentSlide > 1) currentSlide--;
      showSlide(currentSlide);
    }

    function selectOption(category, value, el) {
      // store and visually mark the choice for single-selection categories (like people)
      selections[category] = value;

      // clear previously selected visuals for that category
      const parent = el && el.parentElement;
      if (parent) {
        parent.querySelectorAll('.option').forEach(o => o.classList.remove('selected-main'));
        el.classList.add('selected-main');
      }
    }

    function showSubOptions(slide, parentOption) {
      // hide every sub-options box for that slide, then show the chosen one
      document.querySelectorAll(`#slide${slide} .sub-options-box`).forEach(x => x.style.display = 'none');
      const box = document.getElementById(`suboptions-${slide}-${parentOption}`);
      if (box) box.style.display = 'block';
    }

    function chooseSub(slide, parent, subIndex, el) {
      // store price for that slide (only one allowed)
      const price = priceData[`slide${slide}`][parent - 1][subIndex];
      selections[`slide${slide}`] = price;

      // clear highlights for that slide's sub-options, then highlight the clicked one
      document.querySelectorAll(`#slide${slide} .sub-option`).forEach(s => s.classList.remove('chosen-sub'));
      if (el) el.classList.add('chosen-sub');

      // mark the main option as completed (single main option highlighted per slide)
      const mainOptions = document.querySelectorAll(`#slide${slide} .option`);
      mainOptions.forEach(o => o.classList.remove('selected-main'));
      if (mainOptions[parent - 1]) mainOptions[parent - 1].classList.add('selected-main');
    }

    function generateSummary() {
      let total = 0;
      Object.keys(selections).forEach(k => { if (k !== 'people') total += selections[k] || 0; });
      const people = selections.people || 1;
      total *= people;

      document.getElementById('summary-box').innerHTML = `
        <p><strong>People:</strong> ${people}</p>
        <p><strong>Final Price:</strong> $${total}</p>
      `;
    }

    // Auto-generate slides 2–6 with 4 main options each and 5 sub-options each
    function generateSlides() {
      const container = document.body;
      for (let i = 2; i <= 6; i++) {
        const slide = document.createElement('div');
        slide.id = 'slide' + i;
        slide.className = 'slide';

        let html = `<h2>Slide ${i}: Choose an Option</h2><div class="options">`;

        for (let opt = 1; opt <= 4; opt++) {
          html += `
            <div class="option" onclick="showSubOptions(${i}, ${opt})">
              <div class='image-placeholder'></div>
              Option ${opt}
            </div>
          `;
        }

        html += `</div>`;

        for (let opt = 1; opt <= 4; opt++) {
          html += `
            <div class="sub-options-box" id="suboptions-${i}-${opt}">
              <h3>Choose a sub option for Option ${opt}</h3>
              <div class="options">
          `;

          priceData[`slide${i}`][opt - 1].forEach((price, index) => {
            html += `
                <div class='sub-option' onclick='chooseSub(${i}, ${opt}, ${index}, this)'>
                  <div class='image-placeholder'></div>
                  Sub Option ${index + 1} - $${price}
                </div>
            `;
          });

          html += `
              </div>
            </div>
          `;
        }

        html += `
          <div class="nav-buttons">
            <button class="back" onclick="prevSlide()">Back</button>
            <button class="next" onclick="nextSlide()">Next</button>
          </div>
        `;

        slide.innerHTML = html;
        container.appendChild(slide);
      }

      // make sure Slide 1 Next is a normal working button (in case HTML was malformed earlier)
      const slide1Next = document.querySelector('#slide1 .next');
      if (slide1Next) {
        slide1Next.disabled = false;
        slide1Next.onclick = nextSlide;
      }

      // attach simple click handlers for the people options (slide1) so the element is passed
      document.querySelectorAll('#slide1 .option').forEach((el, idx) => {
        el.onclick = () => selectOption('people', idx+1, el);
      });

      // small visual styles for chosen elements (inlined so script sets them reliably)
      const style = document.createElement('style');
      style.innerHTML = `
        .selected-main { border-color: green !important; }
        .chosen-sub { border-color: green !important; }
      `;
      document.head.appendChild(style);
    }

    generateSlides();
    // show initial slide
    showSlide(1);
  </script></body>
</html>
