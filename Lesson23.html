<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fake Hotel Booking</title>
<style>
:root {--accent:orange; --ok:green;}
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5; }
.container{max-width:980px;margin:24px auto;padding:0 16px}
.slide { display: none; padding:20px; }
.active { display:block; }
.options { display:grid; grid-template-columns: repeat(2, 1fr); gap:15px; margin-top:20px; }
.option, .sub-option { background:white; padding:15px; border-radius:10px; cursor:pointer; border:2px solid transparent; box-sizing:border-box; }
.option:hover, .sub-option:hover { border-color:var(--accent); }
.image-placeholder { width:100%; height:120px; background:orange; border-radius:8px; margin-bottom:10px; }
.nav-buttons { margin-top:20px; display:flex; justify-content:space-between; }
button { padding:10px 20px; border:none; border-radius:6px; cursor:pointer; }
.back { background:#ccc; }
.next { background:var(--accent); color:white; }
.sub-options-box { margin-top:20px; padding:15px; background:#fff; border-radius:10px; display:none; }
.summary { background:#fff; padding:20px; border-radius:10px; }
.selected-main { border-color: var(--ok) !important; }
.chosen-sub { border-color: var(--ok) !important; }
.progress { display:flex; gap:8px; margin-bottom:12px; }
.progress .dot{width:12px;height:12px;border-radius:50%;background:#ddd}
.progress .dot.done{background:var(--ok)}
@media (max-width:640px){.options{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">

  <!-- Progress Dots -->
  <div class="progress" id="progress">
    <div class="dot done" title="People"></div>
    <div class="dot" title="Slide 2"></div>
    <div class="dot" title="Slide 3"></div>
    <div class="dot" title="Slide 4"></div>
    <div class="dot" title="Slide 5"></div>
    <div class="dot" title="Slide 6"></div>
    <div class="dot" title="Summary"></div>
  </div>

  <!-- Slide 1: Number of People -->
  <div id="slide1" class="slide active">
    <h2>KGG - Select Number of People</h2>
    <div class="options">
      <div class="option" data-people="1">1 Person</div>
      <div class="option" data-people="2">2 People</div>
      <div class="option" data-people="3">3 People</div>
      <div class="option" data-people="4">4 People</div>
    </div>
    <div class="nav-buttons">
      <div></div>
      <button class="next" onclick="nextSlide()">Next</button>
    </div>
  </div>

  <!-- Slides 2â€“6 generated by JS -->

  <!-- Summary Slide -->
  <div id="final-slide" class="slide">
    <h2>Booking Summary</h2>
    <div class="summary" id="summary-box"></div>
    <div class="nav-buttons">
      <button class="back" id="backFinal">Back</button>
      <button class="next" id="restartBtn">Back to Start</button>
    </div>
  </div>

</div>

<script>
let currentSlide = 1;
const selections = { people:null }; // for slide2-6, will store {main:1-4, sub:0-4, price:number}

// generate dummy prices for slides 2-6
function generatePrices() {
  return [
    [100,120,140,160,180],
    [90,110,130,150,170],
    [80,100,120,140,160],
    [70,90,110,130,150]
  ];
}
const priceData = { slide2:generatePrices(), slide3:generatePrices(), slide4:generatePrices(), slide5:generatePrices(), slide6:generatePrices() };

// show a slide
function showSlide(n){
  document.querySelectorAll('.slide').forEach(s=>s.classList.remove('active'));
  if(n==='final'){ document.getElementById('final-slide').classList.add('active'); currentSlide='final'; updateProgress(); return; }
  document.getElementById('slide'+n).classList.add('active'); currentSlide=n;
  // reapply selections
  if(n===1){ 
    document.querySelectorAll('#slide1 .option').forEach(o=>{ o.classList.toggle('selected-main', selections.people==Number(o.dataset.people)); });
  } else if(n>=2 && n<=6){
    const sel=selections['slide'+n];
    const el=document.getElementById('slide'+n);
    if(!el) return;
    el.querySelectorAll('.option').forEach(o=>o.classList.remove('selected-main'));
    el.querySelectorAll('.sub-options-box').forEach(b=>b.style.display='none');
    if(sel){ 
      el.querySelectorAll('.option')[sel.main-1]?.classList.add('selected-main');
      el.querySelectorAll(`#suboptions-${n}-${sel.main}`)[0]?.style.display='block';
      const subOpts = el.querySelectorAll(`#suboptions-${n}-${sel.main} .sub-option`);
      subOpts.forEach(s=>s.classList.remove('chosen-sub'));
      subOpts[sel.sub]?.classList.add('chosen-sub');
    }
  }
  updateProgress();
}

// next/prev
function nextSlide(){ if(currentSlide==='final') return; if(currentSlide==6){ generateSummary(); showSlide('final'); return; } showSlide(currentSlide+1);}
function prevSlide(){ if(currentSlide==='final'){ showSlide(6); return; } if(currentSlide>1) showSlide(currentSlide-1);}

// selection handlers
document.querySelectorAll('#slide1 .option').forEach(o=>o.addEventListener('click', ()=>{ 
  selections.people=Number(o.dataset.people);
  document.querySelectorAll('#slide1 .option').forEach(b=>b.classList.remove('selected-main'));
  o.classList.add('selected-main');
  updateProgress();
}));

function showSubOptions(slide,parent){
  document.querySelectorAll(`#slide${slide} .sub-options-box`).forEach(b=>b.style.display='none');
  const box=document.getElementById(`suboptions-${slide}-${parent}`);
  if(box) box.style.display='block';
}
function chooseSub(slide,parent,subIndex,el){
  const price=priceData[`slide${slide}`][parent-1][subIndex];
  selections[`slide${slide}`]={main:parent, sub:subIndex, price:price};
  document.querySelectorAll(`#slide${slide} .sub-option`).forEach(s=>s.classList.remove('chosen-sub'));
  el?.classList.add('chosen-sub');
  document.querySelectorAll(`#slide${slide} .option`).forEach(o=>o.classList.remove('selected-main'));
  document.querySelectorAll(`#slide${slide} .option`)[parent-1]?.classList.add('selected-main');
  updateProgress();
}

// progress
function updateProgress(){
  const dots=document.querySelectorAll('#progress .dot');
  dots[0].classList.toggle('done',!!selections.people);
  for(let i=2;i<=6;i++){ dots[i-1].classList.toggle('done',!!selections[`slide${i}`]); }
  dots[6].classList.toggle('done',currentSlide==='final');
}

// generate slides 2-6
function generateSlides(){
  const container=document.querySelector('.container');
  for(let i=2;i<=6;i++){
    const slide=document.createElement('div'); slide.id='slide'+i; slide.className='slide';
    let html=`<h2>Slide ${i}: Choose an Option</h2><div class="options">`;
    const list=priceData[`slide${i}`];
    for(let opt=1;opt<=4;opt++){
      html+=`<div class="option" data-main="${opt}" onclick="showSubOptions(${i},${opt})">
        <div class="image-placeholder"></div>Option ${opt}</div>`;
    }
    html+=`</div>`;
    for(let opt=1;opt<=4;opt++){
      html+=`<div class="sub-options-box" id="suboptions-${i}-${opt}">
        <h3>Choose a sub option for Option ${opt}</h3>
        <div class="options">`;
      list[opt-1].forEach((p,idx)=>{
        html+=`<div class="sub-option" onclick="chooseSub(${i},${opt},${idx},this)">
          <div class="image-placeholder"></div>Sub Option ${idx+1} - $${p}</div>`;
      });
      html+=`</div></div>`;
    }
    html+=`<div class="nav-buttons">
      <button class="back" onclick="prevSlide()">Back</button>
      <button class="next" onclick="nextSlide()">Next</button>
    </div>`;
    slide.innerHTML=html;
    container.insertBefore(slide, document.getElementById('final-slide'));
  }
}

// summary
function generateSummary(){
  let total=0, html=`<p><strong>People:</strong> ${selections.people||1}</p>`;
  for(let i=2;i<=6;i++){
    const sel=selections[`slide${i}`];
    if(sel) { html+=`<p><strong>Slide ${i}:</strong> Option ${sel.main}, Sub Option ${sel.sub+1} - $${sel.price}</p>`; total+=sel.price; }
    else html+=`<p><strong>Slide ${i}:</strong> No selection</p>`;
  }
  total*=(selections.people||1);
  html+=`<p><strong>Total Price:</strong> $${total}</p>`;
  document.getElementById('summary-box').innerHTML=html;
}

// final slide buttons
document.getElementById('backFinal').addEventListener('click', ()=>showSlide(6));
document.getElementById('restartBtn').addEventListener('click', ()=>{
  showSlide(1);
  document.querySelectorAll('.selected-main,.chosen-sub').forEach(e=>e.classList.remove('selected-main','chosen-sub'));
});

// init
generateSlides();
showSlide(1);
updateProgress();
</script>
</body>
</html>
